{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/classes/ContainerData.js","webpack:///./src/js/classes/Errors/CustomError.js","webpack:///./src/js/classes/Errors/PropertyError.js","webpack:///./src/js/classes/EventSave.js","webpack:///./src/js/classes/InputWithSearch.js","webpack:///./src/js/classes/InputWithSearchForWindow.js","webpack:///./src/js/classes/InputWithSearchWindow.js","webpack:///./src/js/classes/ListInputWithSearch.js","webpack:///./src/js/classes/WatcherPosition.js","webpack:///./src/js/functions/decorators.js","webpack:///./src/js/functions/functions.js","webpack:///./src/js/functions/weakMapIWS.js","webpack:///./src/js/inputWithSearch.js","webpack:///./src/js/polyfills/polyfills.js","webpack:///./src/js/themes/defaultExportTheme.js","webpack:///./src/js/themes/listThemes/openInfo.js","webpack:///./src/js/themes/listThemes/select.js","webpack:///./src/js/themes/listThemes/withPerfectScrollbar.js","webpack:///./src/js/themes/themes.js","webpack:///./src/scss/inputWithSearch.scss?cd4a"],"names":["ContainerData","idParent","callbacks","_idParent","_callbacks","_prepareObjectCallbacks","clear","data","value","customData","_data","wrapListElements","validateData","_value","_customData","_date","Date","now","_actionData","slice","activeKey","addData","startedData","type","unWrapListElement","reduce","acc","cur","key","full","getData","undefined","nameAction","clearAction","_runCbOnName","checkKeyInActionData","Object","keys","indexOf","stringRequest","timeLiveSaveData","toLower","toLowerCase","name","_checkActivityCallback","cb","get","checkNameInAvailableCbs","getActionKey","_setAction","arrData","map","element","i","wrapElementList","numb","hover","active","Array","isArray","values","Error","info","getActionFullData","arrWork","length","index","unshift","splice","nameCbs","objectCallbacks","current","set","activity","Map","getActionKeyIndex","arr","indexArr","some","forEach","CustomError","message","PropertyError","property","protectedRecordsEventSave","Symbol","EventSave","rootDomElement","HTMLElement","domElement","events","fn","protectedStatus","has","addEventListener","addRecord","arrInfo","recordInfo","iterator","removeProtected","record","getRecordByName","removeEventListener","delete","removeRecord","InputWithSearch","settings","_domElement","updateSettings","createCustomContainer","fireEventAndCallback","waitData","xhr","promiseXhr","savesData","id","getValueFromInput","changeStatus","getWorkDomElement","classList","add","getClassesByKey","addEventListeners","wasFirstLoad","addAttrToDomInput","_toggleInitClass","toggle","getBaseClassesByKey","useInitDomImportant","checkDomElement","delegateElement","listeners","getListeners","removeAllRecords","onEvents","addListRecords","open","checkStatus","close","timerHover","timerHoverFn","clearTimeout","setTimeout","wrapper","inputWithSearchWindow","getElementByKey","listenersWrapper","console","warn","fns","fnGetValueFromInput","call","checkDomOnInput","textContent","fnSetValueToInput","newSettings","classes","funcs","mergeListArraysWithoutDuplicates","extend","addStatuses","removeStatuses","status","window","Set","statuses","idStatus","domElementIsInput","lengthStringToOutput","checkCustomData","constructList","needLoad","useCache","loadOnlyStart","validCache","validateSaveDataForRequest","loadData","stopLoadData","setToMessage","removeStatus","abort","_allFilterAndSortProcess","addListElements","repositionActiveToTop","sliceData","maxLength","maxViewElements","filterData","filter","elemData","saveActionData","dataSort","JSON","parse","setToWait","request","ajaxConfig","url","onLoadData","setToError","delayBeforeSendRequest","Promise","resolve","reject","XMLHttpRequest","onload","response","timeout","onerror","generateGetParams","send","prepareAjaxSendData","join","checkWindow","InputWithSearchWindow","checkOpen","destructor","configForInitSearchWindow","setInputActive","fnOnEventFire","getDataFromLastDataByKey","inputValue","setValueToInput","dataToInputByClick","currentValue","lastValue","runEvents","runDestructor","error","getListCallbacksAndEvents","caller","inputWithSearch","object","hasOwnProperty","dataToOutput","callEvent","func","typeMessage","params","toOutput","removeEventListeners","remove","weakMapIWS","getDataWeakMapIWS","InputWithSearchForWindow","getInstance","list","removeElement","customContainer","withRunEvent","changeKey","result","setInactivityCallback","_setActiveByKeyFromList","setElemListActiveByKey","setElemListHoverByKey","setActivityCallback","getDataByKey","getClassesFromSettings","classesWindow","classesBase","nameElement","getNeedConstructors","constructors","entries","inputWithSearchWindow_destruction","inputWithSearchWindow_clickOnElementList","objectWindow","getAttribute","configForEvent","inputWithSearchWindow_changeContent","args","cssParams","cssParamsWindow","cssCallbacks","cssCallbacksWindow","triangle","baseEventsActive","baseWindowEventsActive","closeBtn","counter","input","autocomplete","sendData","k","encodeURIComponent","flag","baseClasses","querySelectorAll","initialize","bodyOpen","objectNotChangeable","configurable","writable","notChangeableKeys","generateObjectForChange","voidClassWindowClasses","defineProperties","lessSymbols","notFind","htmlElementsClasses","defaultCssParams","readOnly","_counter","tagName","singleton","defineProperty","enumerable","protectedFields","ListInputWithSearch","themes","setDataWeakMapIWS","mutationObserver","MutationObserver","mutations","prototype","mutation","removedNodes","checkInit","getInHtmlElementAllElementsByClass","elementWasInit","observe","document","documentElement","childList","subtree","objectConfig","_getElementFromPage","init","getListAvailableThemeConfig","retObject","themesList","themeName","availableThemeConfigs","objectTheme","fnRunBeforeStart","objectData","sliceObjectArrays","exemplar","addElement","fnRunOnStart","getElement","checkIdFn","someData","checkHTMLfn","getElementById","getElemById","stringId","hasElement","dependElement","defaultSettings","addToDomWindow","addElementsToConfig","addListeners","setBlockHoverSelected","setStatus","reSetPosition","body","appendChild","constructorDOM","content","constructorTriangle","constructorCloseBtn","createElement","innerHTML","elements","addElementToConfig","addMutationObserver","observer","config","observerList","disconnect","querySelector","htmlToList","plus","removeListeners","removeMutationObserver","_setHoveredKey","destructorDOM","listCallbacksAndEvents","parentNode","removeChild","setTimeoutOnBlockSelected","timer","winSh","time","timerWaitToBlockHoverSelected","elemListClass","getClassesBaseByKey","eventsArr","event","delegateFn","e","elem","_getKeyAttrFromDomElement","target","closest","checkBlockHoverSelected","_setElemListHover","windowSh","relativeClass","getRelativeObject","down","keyCode","up","enter","preventDefault","setElemListHoverByDirection","hoveredKey","_getHoveredKey","_addWatcherPosition","_removeWatcherPosition","push","withScroll","_getList","arrKeys","getDataForList","_unHoveredElements","domListElement","keyElement","wrapperInner","scrollTop","offsetTop","updateOnlyDom","_getActiveKey","_unActiveElements","_setActiveKey","_getDomElementByKey","blockHoverSelected","isHidden","customFunctionForResizing","customFnResize","customFnRePositionTriangle","checkOnFunction","elem_character","getBoundingClientRect","scroll","pageYOffset","style","width","winWidth","innerWidth","margin","mTop","mRight","mBot","mLeft","availablePlaceWidth","seekWidthTo","maxWidth","minWidth","left","top","bottom","Math","ceil","position","marginTop","marginBottom","window_character","leftTriangle","offsetWidth","withData","haveData","dataList","reposition","addInfoToList","dataElement","constructElement","checkActiveKey","constructMessage","constructMessageError","constructWaitThrobber","_watcher","WatcherPosition","highlightMatchesToString","textError","errorCode","wrapperSub","wrapperList","wrapperTriangle","wrapperCloseBtn","elementList","elementListSelected","elementListHovered","errorText","needSymbolsLength","mouseEnterElement","interceptionEvents","clickElement","el","offsetParent","saves","WeakMap","objectInfo","domWatch","timeTik","_savePositionFromElement","_addInterval","positionObject","_positionBefore","saveParams","getParamsFromDomElement","_interval","setInterval","_fireFunctionOnTik","newPosition","differentTwoObjectPosition","_getPositionBefore","clearInterval","getScrolls","doc","pageXOffset","scrollLeft","clientLeft","clientTop","scrolls","height","obj1","obj2","stringify","descriptor","findClass","related","relatedTarget","match","contains","extended","deep","arguments","toString","merge","obj","prop","string","query","reg","RegExp","replace","hasClass","cls","className","eventConfig","bubbles","detail","dispatchEvent","CustomEvent","oldArr","newArr","classesElement","from","concat","insertAfter","newNode","referenceNode","insertBefore","nextSibling","classesArraysSlice","dataArgs","newObject","firstArg","secondArg","keysTheme","keysObject","summKeys","inTheme","inObject","arg","InputWithSearchForWindowWeakMap","Element","css","node","matches","parentElement","cbBefore","rootElement","innHTML","setCustomData","getFromEventObject","constructorDelegateElement","text","addDelegateElement","toAppend","setAttribute","constructIdSelect","objectId","cbBeforeStart","display","cbBeforeDestruct","HTMLElem","cbOnChangeData","log","PerfectScrollbar","addCustomRecord","ps","wheelPropagation","getCustomContainer","update","container","destroy","runDefaultThemes","addTheme","withPerfectScrollbarTheme","selectTheme","openInfo"],"mappings":"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","file":"inputWithSearch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/inputWithSearch.js\");\n","class ContainerData{\r\n\r\n    /**\r\n     * constructor\r\n     * @param {string} idParent\r\n     * @param {object} callbacks\r\n     */\r\n    constructor(idParent, callbacks){\r\n        this._idParent = idParent;\r\n        /**\r\n         * @typedef {Map.<string, {cb: function|boolean, activity: boolean}>} _callbacks\r\n         * @type _callbacks\r\n         */\r\n        this._callbacks = ContainerData._prepareObjectCallbacks(callbacks);\r\n        this.clear();\r\n    }\r\n\r\n    /**\r\n     * Add values to container\r\n     * @param {array|object} data\r\n     * @param {string} value\r\n     * @param {boolean} customData - Data was added programmatically\r\n     */\r\n    addData(data, value, customData = false){\r\n        this._data = ContainerData.wrapListElements(\r\n            ContainerData.validateData(data),\r\n            this._idParent\r\n        );\r\n        this._value = value;\r\n        this._customData = customData;\r\n        this._date = Date.now();\r\n        this._actionData = this._data.slice(0);\r\n        this.activeKey = 'clear';\r\n    }\r\n\r\n    saveActionData(data){\r\n        this._actionData = data;\r\n    }\r\n\r\n    clear(){\r\n        this.addData([], '');\r\n    }\r\n\r\n    checkCustomData(){\r\n        return this._customData;\r\n    }\r\n\r\n    getData(startedData = true, type = 'typical'){\r\n\r\n        const data = startedData ? this._data : this._actionData;\r\n\r\n        switch (type){\r\n            case 'clear':\r\n                return ContainerData.unWrapListElement(data);\r\n            case 'keyId':\r\n                return data.reduce((acc, cur) => {\r\n                    acc[cur.key] = cur;\r\n                    return acc;\r\n                }, {});\r\n            default:\r\n                return data;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get data\r\n     * @param {string} key\r\n     * @param {boolean} full\r\n     * @return {Object|undefined}\r\n     */\r\n    getDataByKey(key, full = false){\r\n        let data = this.getData(false, 'keyId')[key];\r\n        return typeof data !== 'undefined'\r\n            ? full\r\n                ? data\r\n                : data['data']\r\n            : undefined;\r\n    }\r\n\r\n    /**\r\n     * Getter key hover\r\n     * @returns {string}\r\n     */\r\n    get hoveredKey(){\r\n        return getActionKey('hover', this._actionData);\r\n    }\r\n\r\n    /**\r\n     * Setter key hover\r\n     * @param {string} key\r\n     */\r\n    set hoveredKey(key){\r\n        this._setAction(key, 'hover');\r\n    }\r\n\r\n    /**\r\n     * Getter key active\r\n     * @returns {string}\r\n     */\r\n    get activeKey(){\r\n        return getActionKey('active', this._actionData);\r\n    }\r\n\r\n    /**\r\n     * Setter key active\r\n     * @param {string} key\r\n     */\r\n    set activeKey(key){\r\n        this._setAction(key, 'active');\r\n    }\r\n\r\n    _setAction(key, nameAction){\r\n        if (key === 'clear'){\r\n            clearAction(nameAction, this._actionData);\r\n            this._runCbOnName(nameAction, key);\r\n            return;\r\n        }\r\n        if (this.checkKeyInActionData(key)){\r\n            clearAction(nameAction, this._actionData);\r\n            this.getData(false, 'keyId')[key][nameAction] = true;\r\n            this._runCbOnName(nameAction, key);\r\n        }\r\n    }\r\n\r\n    checkKeyInActionData(key){\r\n        return Object.keys(this.getData(false, 'keyId')).indexOf(key) !== -1;\r\n    }\r\n\r\n    static unWrapListElement(arrData){\r\n        return arrData.map(element => element.data);\r\n    }\r\n\r\n    static wrapListElements(arrData, idParent){\r\n        return arrData.map((data, i) => ContainerData.wrapElementList(data, idParent, i));\r\n    }\r\n\r\n    static wrapElementList(element, idParent, numb){\r\n        return {\r\n            data: element,\r\n            key: `${idParent}_${numb}`,\r\n            hover: false,\r\n            active: false\r\n        };\r\n    }\r\n\r\n    static validateData(data){\r\n        if (Array.isArray(data)){\r\n            return data;\r\n        } else {\r\n            if (data instanceof Object){\r\n                return Object.values(data);\r\n            } else {\r\n                throw new Error('    JSON-.');\r\n            }\r\n        }\r\n    }\r\n\r\n    static repositionActiveToTop(arrData){\r\n        const info = getActionFullData('active', arrData);\r\n        let arrWork = arrData.slice(0);\r\n        if (info !== 'null' && arrData.length > 1 && info.index !== -1){\r\n            arrWork.unshift(...arrWork.splice(info.index,1));\r\n        }\r\n        return arrWork;\r\n    }\r\n\r\n    validateSaveDataForRequest(stringRequest, timeLiveSaveData){\r\n\r\n        const toLower = value => value.toLowerCase();\r\n\r\n        if (this._value === '' || toLower(stringRequest).indexOf(toLower(this._value)) === -1){\r\n            return false;\r\n        }\r\n\r\n        return Date.now() - this._date < timeLiveSaveData;\r\n    }\r\n\r\n    /**\r\n     * Get available name fields\r\n     * @return {string[]}\r\n     */\r\n    static get nameCbs(){\r\n        return ['active', 'hover'];\r\n    }\r\n\r\n    /**\r\n     * Check name on available callbacks\r\n     * @param name\r\n     * @return {boolean}\r\n     */\r\n    static checkNameInAvailableCbs(name){\r\n        return this.nameCbs.indexOf(name) !== -1;\r\n    }\r\n\r\n    /**\r\n     * Start prepare objectCallbacks\r\n     * @param {Object.<string, function>} objectCallbacks\r\n     * @private\r\n     * @return {_callbacks}\r\n     */\r\n    static _prepareObjectCallbacks(objectCallbacks){\r\n        return this.nameCbs.reduce((acc, current) => {\r\n            if (typeof objectCallbacks[current] !== 'undefined'){\r\n                let cb = typeof objectCallbacks[current] === 'function' ? objectCallbacks[current] : false;\r\n                acc.set(current, {\r\n                    cb,\r\n                    activity: true\r\n                });\r\n            }\r\n            return acc;\r\n        }, new Map());\r\n    }\r\n\r\n    _runCbOnName(name, key){\r\n        if (this._checkActivityCallback(name)){\r\n            let cb = this._callbacks.get(name)['cb'];\r\n            cb(key);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Disable runs callbacks with name\r\n     * @param {string} name\r\n     */\r\n    setInactivityCallback(name){\r\n        if (ContainerData.checkNameInAvailableCbs(name)){\r\n            this._callbacks.get(name)['activity'] = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Able runs callbacks with name\r\n     * @param {string} name\r\n     */\r\n    setActivityCallback(name){\r\n        if (ContainerData.checkNameInAvailableCbs(name)) {\r\n            this._callbacks.get(name)['activity'] = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check activity run callback with name\r\n     * @param name\r\n     * @return {boolean}\r\n     * @private\r\n     */\r\n    _checkActivityCallback(name){\r\n        return this._callbacks.get(name)['activity'];\r\n    }\r\n}\r\n\r\nconst getActionKeyIndex = (nameAction, arr) => {\r\n\r\n    let indexArr = -1;\r\n\r\n    arr.some((element, index) => {\r\n        if (element[nameAction]){\r\n            indexArr = index;\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n\r\n    return indexArr;\r\n};\r\n\r\nconst getActionKey = (nameAction, arr) => {\r\n    let index = getActionKeyIndex(nameAction, arr);\r\n    return index !== -1 ? arr[index]['key'] : 'null';\r\n};\r\n\r\nconst getActionFullData = (nameAction, arr) => {\r\n    let index = getActionKeyIndex(nameAction, arr);\r\n    return index !== -1 ? {data: arr[index], index} : 'null';\r\n};\r\n\r\nconst clearAction = (nameAction, arr) => {\r\n    arr.forEach(element => {\r\n        element[nameAction] = false;\r\n    });\r\n};\r\n\r\nexport default ContainerData;","class CustomError extends Error{\r\n    constructor(message){\r\n        super(message);\r\n        this.name = 'CustomError';\r\n        this.message = message;\r\n    }\r\n}\r\n\r\nexport {CustomError};","import {CustomError} from './CustomError.js';\r\n\r\nclass PropertyError extends CustomError{\r\n    constructor(property){\r\n        super('   ' + property);\r\n        this.property = property;\r\n    }\r\n}\r\n\r\nexport default PropertyError;","import {PropertyError} from './Errors/PropertyError.js';\r\n\r\n/**\r\n * Symbol for incapsulated Map with events\r\n * @type {symbol}\r\n */\r\nconst protectedRecordsEventSave = Symbol('protectedRecordsEventSave');\r\n\r\nclass EventSave{\r\n\r\n    constructor(rootDomElement = false){\r\n        /**\r\n         *\r\n         * @type {Map}\r\n         */\r\n        this[protectedRecordsEventSave] = new Map();\r\n        if (rootDomElement !== false && rootDomElement instanceof HTMLElement){\r\n            this.rootDomElement = rootDomElement;\r\n        } else {\r\n            this.rootDomElement = null;\r\n        }\r\n    }\r\n\r\n    addRecord(name, domElement, events, fn, protectedStatus = false){\r\n        if (!this[protectedRecordsEventSave].has(name)){\r\n            domElement.addEventListener(events, fn);\r\n            this[protectedRecordsEventSave].set(name, {\r\n                domElement,\r\n                events,\r\n                fn,\r\n                protectedStatus\r\n            });\r\n        } else {\r\n            throw new PropertyError(name);\r\n        }\r\n    }\r\n\r\n    addCustomRecord(name, events, fn){\r\n        if (this.rootDomElement !== null){\r\n            this.addRecord(name, this.rootDomElement, events, fn);\r\n        }\r\n    }\r\n\r\n    getRecordByName(name){\r\n        return this[protectedRecordsEventSave].get(name);\r\n    }\r\n\r\n    addListRecords(arrInfo){\r\n        arrInfo.forEach((recordInfo) => {\r\n            recordInfo[Symbol.iterator] = function* () {\r\n                yield this.name;\r\n                yield this.domElement;\r\n                yield this.events;\r\n                yield this.fn;\r\n                yield this.protectedStatus;\r\n            };\r\n            this.addRecord(...recordInfo);\r\n        });\r\n    }\r\n\r\n    removeRecord(name, removeProtected = false){\r\n        let record = this.getRecordByName(name);\r\n        if (removeProtected === true || record.protectedStatus === false){\r\n            record.domElement.removeEventListener(record.events, record.fn);\r\n            this[protectedRecordsEventSave].delete(name);\r\n        } else {\r\n            throw new PropertyError(name);\r\n        }\r\n    }\r\n\r\n    removeAllRecords(){\r\n        this[protectedRecordsEventSave].forEach((record, name) => {\r\n            this.removeRecord(name, true);\r\n        });\r\n    }\r\n}\r\n\r\nexport default EventSave;","import InputWithSearchWindow from './InputWithSearchWindow';\r\nimport InputWithSearchForWindow from './InputWithSearchForWindow';\r\nimport funcs from '../functions/functions';\r\nimport EventSave from './EventSave';\r\nimport weakMapIWS from '../functions/weakMapIWS';\r\nimport ContainerData from './ContainerData';\r\nimport {readOnly} from '../functions/decorators';\r\n\r\nclass InputWithSearch{\r\n\r\n    constructor(domElement, settings = {}){\r\n\r\n        this._domElement = domElement;\r\n        this.settings = InputWithSearch.settings;\r\n        this.updateSettings(settings);\r\n        this.createCustomContainer();\r\n\r\n        this.fireEventAndCallback('inputWithSearch_beforeInit');\r\n\r\n        this.waitData = false;\r\n        this.xhr = false;\r\n        this.promiseXhr = false;\r\n\r\n        this.savesData = new ContainerData(this.id, {\r\n            active: (key) => {\r\n                this.fireEventAndCallback('inputWithSearch_changeActive', {key});\r\n            },\r\n            hover: (key) => {\r\n                this.fireEventAndCallback('inputWithSearch_changeHover', {key});\r\n            }\r\n        });\r\n        this.savesData.addData([], this.getValueFromInput());\r\n\r\n        this.changeStatus([0]);\r\n        this.getWorkDomElement().classList.add(...this.getClassesByKey('input'));\r\n\r\n        this.addEventListeners();\r\n\r\n        this.wasFirstLoad = false;\r\n\r\n        InputWithSearch.addAttrToDomInput(this.getWorkDomElement());\r\n\r\n        this._toggleInitClass();\r\n        this.fireEventAndCallback('inputWithSearch_afterInit');\r\n    }\r\n\r\n    _toggleInitClass(){\r\n        this._domElement.classList.toggle(\r\n            InputWithSearch.getBaseClassesByKey('initialize')[0]\r\n        );\r\n    }\r\n\r\n    getWorkDomElement(useInitDomImportant = false){\r\n        return useInitDomImportant || !checkDomElement(this.settings.delegateElement)\r\n            ? this._domElement\r\n            : this.settings.delegateElement;\r\n    }\r\n\r\n    @readOnly\r\n    id = 'IWS-' + InputWithSearch._counter();\r\n\r\n    static _counter(){\r\n        if (typeof this.counter === 'undefined'){\r\n            this.counter = -1;\r\n        }\r\n        this.counter += 1;\r\n        return this.counter;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @return {EventSave}\r\n     */\r\n    getListeners(){\r\n        return this.listeners;\r\n    }\r\n\r\n    addEventListeners(){\r\n\r\n        let listeners = this.getListeners();\r\n        let domElement = this.getWorkDomElement();\r\n\r\n        if (typeof listeners !== 'undefined' && listeners instanceof EventSave){\r\n            listeners.removeAllRecords();\r\n        }\r\n\r\n        listeners = new EventSave(this.getWorkDomElement(true));\r\n\r\n        let onEvents = this.settings.onEvents;\r\n\r\n        switch (onEvents){\r\n            case 'input':\r\n                listeners.addListRecords([\r\n                    {\r\n                        name: 'onEvents',\r\n                        domElement: domElement,\r\n                        events: this.settings.onEvents,\r\n                        fn: () => {\r\n                            this.open();\r\n                        },\r\n                        protectedStatus: true\r\n                    }\r\n                ]);\r\n                break;\r\n            case 'click':\r\n                listeners.addListRecords([\r\n                    {\r\n                        name: 'onEvents',\r\n                        domElement: domElement,\r\n                        events: this.settings.onEvents,\r\n                        fn: () => {\r\n                            if (this.checkStatus(0)){\r\n                                this.open();\r\n                            } else {\r\n                                this.close();\r\n                            }\r\n                        },\r\n                        protectedStatus: true\r\n                    }\r\n                ]);\r\n                break;\r\n            case 'hover': {\r\n\r\n                let timerHover = null;\r\n\r\n                const timerHoverFn = () => {\r\n                    clearTimeout(timerHover);\r\n                    timerHover = setTimeout(() => {\r\n                        this.close();\r\n                    }, 50);\r\n                };\r\n\r\n                listeners.addListRecords([\r\n                    {\r\n                        name: 'openWrapperHover',\r\n                        domElement: domElement,\r\n                        events: 'inputWithSearch_afterOpen',\r\n                        fn: () => {\r\n                            clearTimeout(timerHover);\r\n                            let wrapper = this.inputWithSearchWindow.getElementByKey('wrapper');\r\n                            let listenersWrapper = this.inputWithSearchWindow.listeners;\r\n                            listenersWrapper.addRecord(\r\n                                'mouseLeaveWrapperHover',\r\n                                wrapper,\r\n                                'mouseleave',\r\n                                timerHoverFn,\r\n                                true\r\n                            );\r\n                            listenersWrapper.addRecord(\r\n                                'mouseEnterWrapperHover',\r\n                                wrapper,\r\n                                'mouseenter',\r\n                                () => {\r\n                                    clearTimeout(timerHover);\r\n                                },\r\n                                true\r\n                            );\r\n                        },\r\n                        protectedStatus: true\r\n                    },\r\n                    {\r\n                        name: 'onEvents',\r\n                        domElement: domElement,\r\n                        events: 'mouseenter',\r\n                        fn: () => {\r\n                            if (this.checkStatus(0)){\r\n                                this.open();\r\n                            }\r\n                            if (this.checkStatus(1)){\r\n                                clearTimeout(timerHover);\r\n                            }\r\n                        },\r\n                        protectedStatus: true\r\n                    }, {\r\n                        name: 'mouseLeaveElement',\r\n                        domElement: domElement,\r\n                        events: 'mouseleave',\r\n                        fn: timerHoverFn,\r\n                        protectedStatus: true\r\n                    }\r\n                ]);\r\n                break;\r\n            }\r\n            default:\r\n                console.warn(' onEvents  !');\r\n        }\r\n\r\n        this.listeners = listeners;\r\n    }\r\n\r\n    removeEventListeners(){\r\n        this.listeners.removeAllRecords();\r\n    }\r\n\r\n    static addAttrToDomInput(input){\r\n        input.autocomplete = 'off';\r\n    }\r\n\r\n    getValueFromInput(){\r\n        let HTMLElement = this.getWorkDomElement();\r\n        if (typeof this.settings.fns.fnGetValueFromInput === 'function'){\r\n            return this.settings.fns.fnGetValueFromInput.call(null, HTMLElement);\r\n        }\r\n        if (checkDomOnInput(HTMLElement)){\r\n            return HTMLElement.value;\r\n        }\r\n        return HTMLElement.textContent;\r\n    }\r\n\r\n    setValueToInput(value){\r\n        let HTMLElement = this.getWorkDomElement();\r\n        if (typeof this.settings.fns.fnSetValueToInput === 'function'){\r\n            this.settings.fns.fnSetValueToInput.call(null, HTMLElement, value);\r\n            return;\r\n        }\r\n        if (checkDomOnInput(HTMLElement)){\r\n            HTMLElement.value = value;\r\n            return;\r\n        }\r\n        HTMLElement.textContent = value;\r\n    }\r\n\r\n    updateSettings(newSettings){\r\n\r\n        let classes = false;\r\n\r\n        if ('classes' in newSettings && typeof newSettings['classes'] === 'object'){\r\n            classes = funcs.mergeListArraysWithoutDuplicates(this.settings.classes, newSettings['classes']);\r\n        }\r\n\r\n        this.settings = funcs.extend(true, {}, this.settings, newSettings);\r\n        /* Update classes */\r\n        if (classes){\r\n            this.settings.classes = classes;\r\n        }\r\n        /* end update classes */\r\n    }\r\n\r\n    changeStatus(addStatuses = [], removeStatuses = []){\r\n        if (typeof this.status === 'undefined'){\r\n            this.status = new window.Set();\r\n        }\r\n        addStatuses.forEach((status) => {\r\n            if (status in InputWithSearch.statuses){\r\n                this.status.add(status);\r\n            }\r\n        });\r\n        removeStatuses.forEach((status) => {\r\n            if (status in InputWithSearch.statuses){\r\n                this.status.delete(status);\r\n            }\r\n        });\r\n    }\r\n\r\n    checkStatus(idStatus){\r\n        return this.status.has(idStatus);\r\n    }\r\n\r\n    fnOnEventFire(value = false){\r\n\r\n        this.changeStatus([], [2, 3]);\r\n\r\n        let HTMLElement = this.getWorkDomElement();\r\n        let domElementIsInput = checkDomOnInput(HTMLElement);\r\n\r\n        if (value === false){\r\n            value = HTMLElement.value;\r\n        }\r\n\r\n        if (domElementIsInput === false || value.length >= this.settings.lengthStringToOutput){\r\n\r\n            let savesData = this.savesData;\r\n\r\n            if (savesData.checkCustomData()){\r\n                this.constructList();\r\n            } else {\r\n                let needLoad = true;\r\n\r\n                if (this.settings.useCache && this.settings.loadOnlyStart){\r\n                    needLoad = !this.wasFirstLoad;\r\n                } else {\r\n\r\n                    let validCache = savesData.validateSaveDataForRequest(\r\n                        value,\r\n                        this.settings.timeLiveSaveData\r\n                    );\r\n\r\n                    needLoad = !this.settings.useCache || !validCache;\r\n                }\r\n\r\n                if (needLoad){\r\n                    this.loadData();\r\n                } else {\r\n                    this.constructList();\r\n                }\r\n            }\r\n        } else {\r\n            this.stopLoadData();\r\n            this.setToMessage('lessSymbols', [this.settings.lengthStringToOutput]);\r\n        }\r\n    }\r\n\r\n    stopLoadData(removeStatus = true){\r\n        clearTimeout(this.waitData);\r\n        if (removeStatus){\r\n            this.changeStatus([], [2]);\r\n        }\r\n        if (typeof this.xhr === 'object'){\r\n            this.xhr.abort();\r\n        }\r\n    }\r\n\r\n    constructList(){\r\n\r\n        this._allFilterAndSortProcess();\r\n\r\n        let data = this.savesData.getData(false);\r\n\r\n        if (data.length){\r\n\r\n            this.fireEventAndCallback('inputWithSearch_beforeListAddDom');\r\n            this.inputWithSearchWindow.addListElements(data, this.getValueFromInput(), this.settings.repositionActiveToTop);\r\n            this.fireEventAndCallback('inputWithSearch_afterListAddDom');\r\n\r\n            return;\r\n        }\r\n\r\n        this.setToMessage('notFind');\r\n    }\r\n\r\n    _allFilterAndSortProcess(){\r\n\r\n        const sliceData = (arr, maxLength) => {\r\n            return arr.length > maxLength\r\n                ? arr.slice(0, maxLength)\r\n                : arr;\r\n        };\r\n\r\n        let savesData = this.savesData;\r\n        let data = savesData.getData();\r\n        let value = this.getValueFromInput();\r\n\r\n        if (this.settings.maxViewElements < data.length){\r\n            data = sliceData(data, this.settings.maxViewElements);\r\n        }\r\n\r\n        if (typeof this.settings.fns.filterData === 'function'){\r\n            data = data.filter((elemData) => {\r\n                return this.settings.fns.filterData(elemData, value);\r\n            });\r\n        }\r\n\r\n        if (this.settings.repositionActiveToTop === true){\r\n            data = ContainerData.repositionActiveToTop(data);\r\n        }\r\n\r\n        savesData.saveActionData(data);\r\n\r\n        this.fireEventAndCallback('inputWithSearch_onUpdateDataView');\r\n    }\r\n\r\n    onLoadData(data, value){\r\n\r\n        const dataSort = JSON.parse(data);\r\n\r\n        this.savesData.addData(dataSort, value);\r\n        this.constructList();\r\n        if (this.wasFirstLoad === false){\r\n            this.wasFirstLoad = true;\r\n        }\r\n    }\r\n\r\n    loadData(){\r\n        this.stopLoadData(false);\r\n        this.waitData = setTimeout(async () => {\r\n            this.setToWait();\r\n            try{\r\n                this.promiseXhr = this.request(this.settings.ajaxConfig.url);\r\n                const value = this.getValueFromInput();\r\n                const data = await this.promiseXhr;\r\n                this.onLoadData(data, value);\r\n            } catch (e){\r\n                if (e === 0){\r\n                    this.setToError(new Error('   !'));\r\n                } else {\r\n                    throw e;\r\n                }\r\n            } finally {\r\n                this.changeStatus([], [2]);\r\n            }\r\n        }, this.settings.delayBeforeSendRequest);\r\n    }\r\n\r\n    request(url) {\r\n        return new window.Promise((resolve, reject) => {\r\n            const xhr = this.xhr = new window.XMLHttpRequest();\r\n            xhr.onload = function() {\r\n                resolve(xhr.response);\r\n            };\r\n            xhr.timeout = this.settings.ajaxConfig.timeout;\r\n            xhr.onerror = function () {\r\n                reject(xhr.status);\r\n            };\r\n\r\n            xhr.open(this.settings.ajaxConfig.type, url + this.generateGetParams(), true);\r\n\r\n            xhr.send(InputWithSearch.prepareAjaxSendData(this.settings.ajaxConfig.data));\r\n        });\r\n    }\r\n\r\n    generateGetParams(){\r\n        const fn = this.settings.fns.generateGetParams;\r\n        return typeof fn === 'function' ? '?' + fn(this) : '';\r\n    }\r\n\r\n    static prepareAjaxSendData(data){\r\n\r\n        let sendData = data;\r\n\r\n        if (typeof sendData === 'function'){\r\n            sendData = sendData();\r\n        }\r\n\r\n        if (sendData !== null){\r\n            sendData = typeof sendData === 'string' ? sendData : Object.keys(sendData).map(\r\n                function(k){ return encodeURIComponent(k) + '=' + encodeURIComponent(sendData[k]); }\r\n            ).join('&');\r\n        }\r\n\r\n        return sendData;\r\n    }\r\n\r\n    getClassesByKey(key, join = false){\r\n        let classes = this.settings.classes[key];\r\n        return join ? classes.join(' ') : classes;\r\n    }\r\n\r\n    static get statuses(){\r\n        return {\r\n            0: 'close',\r\n            1: 'open',\r\n            2: 'waiting data',\r\n            3: 'error'\r\n        };\r\n    }\r\n\r\n    open(){\r\n\r\n        let checkWindow = window.inputWithSearchWindow instanceof InputWithSearchWindow,\r\n            checkOpen = this.checkStatus(1);\r\n\r\n        if (!checkOpen){\r\n            let HTMLElement = this.getWorkDomElement();\r\n            this.fireEventAndCallback('inputWithSearch_beforeOpen');\r\n            if (checkWindow){\r\n                window.inputWithSearchWindow.destructor();\r\n            }\r\n            window.inputWithSearchWindow =\r\n                this.inputWithSearchWindow =\r\n                    new InputWithSearchWindow(\r\n                        this.getWorkDomElement(true),\r\n                        this.configForInitSearchWindow\r\n                    );\r\n            InputWithSearch.setInputActive(HTMLElement, true);\r\n            this.changeStatus([1], [0]);\r\n        }\r\n        this.fnOnEventFire();\r\n        this.fireEventAndCallback('inputWithSearch_afterOpen');\r\n    }\r\n\r\n    get configForInitSearchWindow(){\r\n\r\n        const getClassesFromSettings = (classes) => {\r\n            const classesWindow = InputWithSearchWindow.classesBase;\r\n            return Object.keys(classes).reduce((acc, nameElement) => {\r\n                if (nameElement in classesWindow){\r\n                    acc[nameElement] = classes[nameElement];\r\n                }\r\n                return acc;\r\n            }, {});\r\n        };\r\n\r\n        const getNeedConstructors = (constructors) => {\r\n            return Object.entries(constructors).reduce((object, data) => {\r\n                let [key, value] = data;\r\n                if (typeof value === 'function'){\r\n                    object[key] = value;\r\n                }\r\n                return object;\r\n            }, {});\r\n        };\r\n\r\n        return {\r\n            callbacks: {\r\n                inputWithSearchWindow_destruction: () => {\r\n                    this.close(true, false);\r\n                },\r\n                inputWithSearchWindow_clickOnElementList: (objectWindow, domElement) => {\r\n                    const key = domElement.getAttribute('data-key');\r\n                    let configForEvent = this._setActiveByKeyFromList(key);\r\n                    this.fireEventAndCallback('inputWithSearch_onClickOption', configForEvent);\r\n                    this.close();\r\n                },\r\n                inputWithSearchWindow_changeContent: (...args) => {\r\n                    this.fireEventAndCallback('inputWithSearch_onChangeWindow', args);\r\n                }\r\n            },\r\n            classes: getClassesFromSettings(this.settings.classes),\r\n            constructors: getNeedConstructors(this.settings.constructors),\r\n            cssParams: this.settings.cssParamsWindow,\r\n            cssCallbacks: this.settings.cssCallbacksWindow,\r\n            triangle: this.settings.triangle,\r\n            baseEventsActive: this.settings.baseWindowEventsActive,\r\n            closeBtn: this.settings.closeBtn\r\n        };\r\n    }\r\n\r\n    _setActiveByKeyFromList(key){\r\n\r\n        const data = this.getDataFromLastDataByKey(key);\r\n        const inputValue = this.getValueFromInput();\r\n\r\n        this.setValueToInput(\r\n            this.settings.fns.dataToInputByClick(\r\n                data\r\n            )\r\n        );\r\n\r\n        return {\r\n            data,\r\n            currentValue: this.getValueFromInput(),\r\n            lastValue: inputValue\r\n        };\r\n    }\r\n\r\n    getDataFromLastDataByKey(key){\r\n        return this.savesData.getData(false, 'keyId')[key];\r\n    }\r\n\r\n    close(runEvents = true, runDestructor = true){\r\n        if (this.checkStatus(1)){\r\n            if (runEvents) this.fireEventAndCallback('inputWithSearch_beforeClose');\r\n            this.changeStatus([0], [1]);\r\n            try {\r\n                if (runDestructor) window.inputWithSearchWindow.destructor();\r\n            } finally {\r\n                window.inputWithSearchWindow = null;\r\n            }\r\n            InputWithSearch.setInputActive(this.getWorkDomElement(), false);\r\n            if (runEvents) this.fireEventAndCallback('inputWithSearch_afterClose');\r\n        }\r\n    }\r\n\r\n    setToError(error){\r\n        this.changeStatus([3]);\r\n        this.fireEventAndCallback('inputWithSearch_onError', [error]);\r\n        this.inputWithSearchWindow.setToError(error.message, error);\r\n    }\r\n\r\n    fireEventAndCallback(name, data = {}){\r\n        if (name in InputWithSearch.getListCallbacksAndEvents()){\r\n\r\n            let caller = this.getWorkDomElement(true);\r\n            let inputWithSearch = {\r\n                object: this,\r\n                ...data\r\n            };\r\n\r\n            inputWithSearch[Symbol.iterator] = function* () {\r\n                yield this.object;\r\n                for (let key in this){\r\n                    if (this.hasOwnProperty(key)){\r\n                        if (key !== 'object'){\r\n                            yield this[key];\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            let dataToOutput = {\r\n                inputWithSearch\r\n            };\r\n\r\n            funcs.callEvent(caller, name, dataToOutput);\r\n\r\n            let func = this.settings.callbacks[name];\r\n\r\n            if (typeof func === 'function'){\r\n                func(...inputWithSearch);\r\n            }\r\n        }\r\n    }\r\n\r\n    /* sets to */\r\n\r\n    setToWait(){\r\n        if (!this.checkStatus(2)){\r\n            this.changeStatus([2]);\r\n            this.inputWithSearchWindow.setToWait();\r\n        }\r\n    }\r\n\r\n    setToMessage(typeMessage, params = []){\r\n        let toOutput = [this.getValueFromInput(), ...params];\r\n        this.inputWithSearchWindow.setToMessage(typeMessage, toOutput);\r\n    }\r\n\r\n    /* end sets to */\r\n\r\n    destructor(){\r\n        this.fireEventAndCallback('inputWithSearch_beforeDestruction');\r\n        let HTMLElement = this.getWorkDomElement();\r\n        this.close();\r\n        this.removeEventListeners();\r\n        InputWithSearch.setInputActive(HTMLElement, false);\r\n        HTMLElement.classList.remove(...this.getClassesByKey('input'));\r\n        this._toggleInitClass();\r\n        weakMapIWS.getDataWeakMapIWS(InputWithSearchForWindow.getInstance()).list.removeElement(HTMLElement);\r\n    }\r\n\r\n    static setInputActive(input, flag){\r\n        if (flag){\r\n            input.classList.add('InputWithSearch_active');\r\n            return;\r\n        }\r\n        input.classList.remove('InputWithSearch_active');\r\n    }\r\n\r\n    static get baseClasses(){\r\n        return {\r\n            initialize: ['InputWithSearchRoot'],\r\n            input: ['InputWithSearch'],\r\n            bodyOpen: ['InputWithSearchOpen']\r\n        };\r\n    }\r\n\r\n    static getBaseClassesByKey(key){\r\n        return this.baseClasses[key];\r\n    }\r\n\r\n    static get htmlElementsClasses(){\r\n\r\n        const objectNotChangeable = {\r\n            configurable: true,\r\n            writable: false\r\n        };\r\n\r\n        const notChangeableKeys = ['input', 'bodyOpen', 'initialize'];\r\n\r\n        const generateObjectForChange = (keys, object) => {\r\n            return keys.reduce((acc, current) => {\r\n                acc[current] = object;\r\n                return acc;\r\n            }, {});\r\n        };\r\n\r\n        let voidClassWindowClasses = Object.keys(InputWithSearchWindow.classesBase).reduce((acc, current) => {\r\n            acc[current] = [];\r\n            return acc;\r\n        }, {});\r\n\r\n        let object = funcs.extend(\r\n            this.baseClasses,\r\n            voidClassWindowClasses\r\n        );\r\n\r\n        Object.defineProperties(object, generateObjectForChange(notChangeableKeys, objectNotChangeable));\r\n\r\n        return object;\r\n    }\r\n\r\n    /* for not downloaded data */\r\n\r\n    setCustomData(data){\r\n        this.savesData.addData(data, this.getValueFromInput(), true);\r\n    }\r\n\r\n    /* end for not downloaded data */\r\n\r\n    /* custom container */\r\n\r\n    createCustomContainer(){\r\n        this.customContainer = new Map();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @return {Map}\r\n     */\r\n    getCustomContainer(){\r\n        return this.customContainer;\r\n    }\r\n\r\n    /* end custom container */\r\n\r\n    static getListCallbacksAndEvents(){\r\n        return {\r\n            'inputWithSearch_beforeInit': false,\r\n            'inputWithSearch_afterInit': false,\r\n            'inputWithSearch_beforeDestruction': false,\r\n            'inputWithSearch_onClickOption': false,\r\n            'inputWithSearch_beforeListAddDom': false,\r\n            'inputWithSearch_afterListAddDom': false,\r\n            'inputWithSearch_beforeOpen': false,\r\n            'inputWithSearch_afterOpen': false,\r\n            'inputWithSearch_beforeClose': false,\r\n            'inputWithSearch_afterClose': false,\r\n            'inputWithSearch_onError': false,\r\n            'inputWithSearch_onChangeWindow': false,\r\n            'inputWithSearch_onUpdateDataView': false,\r\n            'inputWithSearch_changeActive': false,\r\n            'inputWithSearch_changeHover': false\r\n        };\r\n    }\r\n\r\n    static getInHtmlElementAllElementsByClass(domElement){\r\n        return domElement.querySelectorAll(`.${this.getBaseClassesByKey('initialize')[0]}`);\r\n    }\r\n\r\n    static get settings(){\r\n        return {\r\n            onEvents: 'input',\r\n            delayBeforeSendRequest: 300,\r\n            ajaxConfig: {\r\n                url: 'http://headers.jsontest.com/',\r\n                type: 'GET',\r\n                timeout: 10000,\r\n                data: null\r\n            },\r\n            callbacks: this.getListCallbacksAndEvents(),\r\n            constructors: {\r\n                element: false,\r\n                error: false,\r\n                lessSymbols: false,\r\n                notFind: false\r\n            },\r\n            fns: {\r\n                /**\r\n                 *\r\n                 * @param data\r\n                 * @return String\r\n                 */\r\n                dataToInputByClick: (data) => {\r\n                    return data.data;\r\n                },\r\n                fnSetValueToInput: false,\r\n                fnGetValueFromInput: false,\r\n                filterData: false,\r\n                generateGetParams: false\r\n            },\r\n            useCache: false,\r\n            loadOnlyStart: false,\r\n            maxViewElements: 50,\r\n            lengthStringToOutput: 4,\r\n            timeLiveSaveData: 60*60*1000,\r\n            classes: this.htmlElementsClasses,\r\n            data: false,\r\n            cssParamsWindow: InputWithSearchWindow.defaultCssParams,\r\n            cssCallbacksWindow: InputWithSearchWindow.cssCallbacks,\r\n            triangle: false,\r\n            closeBtn: false,\r\n            baseWindowEventsActive: {},\r\n            delegateElement: false,\r\n            repositionActiveToTop: true\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Set active data by first element function fire\r\n     * @param {function(object):boolean} cb\r\n     * @param {boolean} withRunEvent\r\n     */\r\n    setActive(cb, withRunEvent = true){\r\n        let changeKey = 'null';\r\n        let savesData = this.savesData;\r\n        savesData.getData(false).some(data => {\r\n            let result = cb(data.data);\r\n            if (result){\r\n                changeKey = data.key;\r\n            }\r\n            return result;\r\n        });\r\n        if (changeKey !== 'null'){\r\n            if (withRunEvent === false){\r\n                savesData.setInactivityCallback('active');\r\n            }\r\n            savesData.activeKey = changeKey;\r\n            this._setActiveByKeyFromList(changeKey);\r\n            if (this.checkStatus(1)){\r\n                this.inputWithSearchWindow.setElemListActiveByKey(changeKey, true);\r\n                this.inputWithSearchWindow.setElemListHoverByKey(changeKey, false);\r\n            }\r\n            if (withRunEvent === false){\r\n                savesData.setActivityCallback('active');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param key\r\n     * @param full\r\n     * @return {Object}\r\n     */\r\n    getDataByKey(key, full = false){\r\n        return this.savesData.getDataByKey(key, full);\r\n    }\r\n\r\n    getActiveKey(){\r\n        return this.savesData.activeKey;\r\n    }\r\n}\r\n\r\nconst checkDomElement = element => element instanceof HTMLElement;\r\n\r\nconst checkDomOnInput = (domElement) => {\r\n    return domElement.tagName === 'INPUT';\r\n} ;\r\n\r\nexport default InputWithSearch;","import ListInputWithSearch from './ListInputWithSearch';\r\nimport InputWithSearch from './InputWithSearch';\r\nimport PropertyError from './Errors/PropertyError';\r\nimport funcs from '../functions/functions';\r\nimport weakMapIWS from '../functions/weakMapIWS';\r\n\r\nclass InputWithSearchForWindow{\r\n\r\n    constructor() {\r\n\r\n        if (InputWithSearchForWindow.hasOwnProperty('singleton'))\r\n            return InputWithSearchForWindow.singleton;\r\n\r\n        Object.defineProperty(InputWithSearchForWindow, 'singleton', {\r\n            value: this,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false\r\n        });\r\n\r\n        /**\r\n         *\r\n         * @type {protectedFieldsIWS}\r\n         */\r\n        let protectedFields = {\r\n            list: new ListInputWithSearch(),\r\n            themes: new Map()\r\n        };\r\n\r\n        weakMapIWS.setDataWeakMapIWS(this, protectedFields);\r\n\r\n        let mutationObserver = new MutationObserver(mutations => {\r\n            mutations.forEach(mutation => {\r\n                Array.prototype.slice.call(mutation.removedNodes, 0).filter(element => {\r\n                    if (this.checkInit(element)){\r\n                        this.get(element).destructor();\r\n                    } else {\r\n                        if (element instanceof HTMLElement){\r\n                            Array.prototype.slice.call(\r\n                                InputWithSearch.getInHtmlElementAllElementsByClass(element),\r\n                                0\r\n                            ).forEach(elementWasInit => {\r\n                                this.get(elementWasInit).destructor();\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        });\r\n\r\n        mutationObserver.observe(document.documentElement, {\r\n            childList: true,\r\n            subtree: true,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get example class InputWithsSearch from store\r\n     * @param {HTMLElement|string} domElement\r\n     * @param {object} objectConfig\r\n     * @param {string|string[]} themes\r\n     * @returns {InputWithSearch}\r\n     */\r\n    getElement(domElement, objectConfig = {}, themes = ''){\r\n        let element = this._getElementFromPage(domElement);\r\n\r\n        if (element !== false){\r\n            if (!this.checkInit(element)){\r\n                this.init(element, objectConfig, themes);\r\n            }\r\n            return this.get(element);\r\n        }\r\n\r\n        throw new Error(`  DOM-   ${domElement}`);\r\n    }\r\n\r\n    /**\r\n     * InitFunction\r\n     * @param {HTMLElement} element\r\n     * @param {object} objectConfig\r\n     * @param {string|string[]} themes\r\n     * @returns {InputWithSearch}\r\n     */\r\n    init(element, objectConfig = {}, themes = ''){\r\n\r\n        const getListAvailableThemeConfig = () => {\r\n\r\n            let retObject = {};\r\n\r\n            if (themes !== ''){\r\n                if (!Array.isArray(themes)){\r\n                    themes = [themes];\r\n                }\r\n                let themesList = weakMapIWS.getDataWeakMapIWS(this).themes;\r\n\r\n                themes.reduce((acc, themeName) => {\r\n                    if (themesList.has(themeName)){\r\n                        acc[themeName] = themesList.get(themeName);\r\n                    }\r\n                    return acc;\r\n                }, retObject);\r\n            }\r\n            return retObject;\r\n        };\r\n\r\n        let list = weakMapIWS.getDataWeakMapIWS(this).list;\r\n        let availableThemeConfigs = Object.values(getListAvailableThemeConfig());\r\n        for (let objectTheme of availableThemeConfigs){\r\n            let fn = objectTheme.fnRunBeforeStart;\r\n            if (typeof fn === 'function'){\r\n                fn.call(null, element);\r\n            }\r\n        }\r\n        for (let objectTheme of availableThemeConfigs){\r\n            let objectData = objectTheme.objectData;\r\n            if (Object.keys(objectData).length){\r\n                let classes = funcs.sliceObjectArrays(objectData.classes, objectConfig.classes);\r\n                objectConfig = funcs.extend(true, {}, objectData, objectConfig);\r\n                objectConfig.classes = classes;\r\n            }\r\n        }\r\n        let exemplar = new InputWithSearch(element, objectConfig);\r\n        list.addElement(element, exemplar);\r\n        for (let objectTheme of availableThemeConfigs){\r\n            let fn = objectTheme.fnRunOnStart;\r\n            if (typeof fn === 'function'){\r\n                fn.call(null, exemplar);\r\n            }\r\n        }\r\n\r\n        return list.getElement(element);\r\n    }\r\n\r\n    /**\r\n     * Get element from page by string or return HTMLElement\r\n     * @param {HTMLElement|string} domElement\r\n     * @return {boolean|HTMLElement}\r\n     * @private\r\n     */\r\n    _getElementFromPage(domElement){\r\n        const checkIdFn = (someData) => {\r\n            if (typeof someData === 'string'){\r\n                return checkHTMLfn(document.getElementById(someData));\r\n            }\r\n            return false;\r\n        };\r\n\r\n        const checkHTMLfn = (someData) => {\r\n            return someData instanceof HTMLElement;\r\n        };\r\n\r\n        const getElemById = (stringId) => {\r\n            return checkIdFn(stringId) ? document.getElementById(stringId) : false;\r\n        };\r\n\r\n        let element = checkHTMLfn(domElement)\r\n            ? domElement\r\n            : getElemById(domElement);\r\n\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Get element\r\n     * @param {HTMLElement|string} domElement\r\n     * @return {InputWithSearch|undefined}\r\n     */\r\n    get(domElement){\r\n        return weakMapIWS.getDataWeakMapIWS(this).list.getElement(this._getElementFromPage(domElement));\r\n    }\r\n\r\n    /**\r\n     * Check dom element init\r\n     * @param {HTMLElement} domElement\r\n     * @return {boolean}\r\n     */\r\n    checkInit(domElement){\r\n        return weakMapIWS.getDataWeakMapIWS(this).list.hasElement(domElement);\r\n    }\r\n\r\n    /**\r\n     * Add theme for use in objects\r\n     * @param {string} name\r\n     * @param {object} objectData\r\n     * @param {function(InputWithSearch)} fnRunOnStart\r\n     * @param {function(HTMLElement)} fnRunBeforeStart\r\n     */\r\n    addTheme(name, objectData, fnRunOnStart, fnRunBeforeStart){\r\n\r\n        let themes = weakMapIWS.getDataWeakMapIWS(this).themes;\r\n\r\n        if (!themes.has(name)){\r\n            themes.set(name, {\r\n                objectData,\r\n                fnRunOnStart,\r\n                fnRunBeforeStart\r\n            });\r\n        } else {\r\n            throw new PropertyError(name);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @return {InputWithSearchForWindow}\r\n     */\r\n    static getInstance(){\r\n        return this.singleton;\r\n    }\r\n\r\n}\r\n\r\nexport default InputWithSearchForWindow;","import EventSave from './EventSave';\r\nimport funcs from '../functions/functions';\r\nimport WatcherPosition from './WatcherPosition';\r\n\r\nclass InputWithSearchWindow{\r\n\r\n    constructor(dependElement, settings){\r\n\r\n        this.settings = InputWithSearchWindow.defaultSettings;\r\n        this.updateSettings(settings);\r\n\r\n        this.addToDomWindow();\r\n        this.addElementsToConfig();\r\n        this.addListeners();\r\n        this.dependElement = dependElement;\r\n        this.setBlockHoverSelected();\r\n\r\n        this.setStatus();\r\n\r\n        this.reSetPosition();\r\n        this.fireEventAndCallback('inputWithSearchWindow_afterConstruction');\r\n    }\r\n\r\n    addToDomWindow(){\r\n        document.body.appendChild(this.constructorDOM());\r\n    }\r\n\r\n    constructorDOM(){\r\n        let content = this.constructorTriangle() + `\r\n                <div class=\"${this.getClassesByKey('wrapperSub', true)}\">\r\n                    <div class=\"${this.getClassesByKey('wrapperInner', true)}\">\r\n                        <div class=\"${this.getClassesByKey('wrapperList', true)}\"></div>\r\n                        ${this.constructorCloseBtn()}\r\n                    </div>\r\n                </div>\r\n            `;\r\n        let wrapper = document.createElement('div');\r\n        wrapper.classList.add(...this.getClassesByKey('wrapper'));\r\n        wrapper.innerHTML = content;\r\n\r\n        return wrapper;\r\n    }\r\n\r\n    constructorCloseBtn(){\r\n        let closeBtn = this.settings.closeBtn;\r\n\r\n        if (closeBtn){\r\n            return `<div class=\"${this.getClassesByKey('wrapperCloseBtn', true)}\"></div>`;\r\n        }\r\n        return '';\r\n\r\n    }\r\n\r\n    constructorTriangle(){\r\n        let triangle = this.settings.triangle;\r\n\r\n        if (triangle){\r\n            return `\r\n                <div class=\"${this.getClassesByKey('wrapperTriangle', true)}\"></div>\r\n            `;\r\n        }\r\n        return '';\r\n    }\r\n\r\n    addElementsToConfig(){\r\n        this.elements = {};\r\n        for (let nameElement of Object.keys(InputWithSearchWindow.classesBase)){\r\n            this.addElementToConfig(nameElement);\r\n        }\r\n\r\n        this.addMutationObserver();\r\n    }\r\n\r\n    /* mutation observer on change content in list */\r\n\r\n    addMutationObserver(){\r\n\r\n        let observer = new MutationObserver((mutations) => {\r\n            this.fireEventAndCallback('inputWithSearchWindow_changeContent', {mutations});\r\n        });\r\n\r\n        let config = { childList: true };\r\n\r\n        observer.observe(this.getElementByKey('wrapperList'), config);\r\n\r\n        this.observerList = observer;\r\n    }\r\n\r\n    removeMutationObserver(){\r\n        this.observerList.disconnect();\r\n    }\r\n\r\n    /* end mutation observer on change content in list */\r\n\r\n    addElementToConfig(nameElement){\r\n        const classes = InputWithSearchWindow.classesBase[nameElement][0];\r\n        this.elements[nameElement] = document.querySelector('.' + classes);\r\n    }\r\n\r\n    getElementByKey(key){\r\n        return this.elements[key];\r\n    }\r\n\r\n    addInfoToList(htmlToList, plus = false){\r\n        if (plus){\r\n            this.getElementByKey('wrapperList').innerHTML = this.getElementByKey('wrapperList').innerHTML + htmlToList;\r\n            return;\r\n        }\r\n        this.getElementByKey('wrapperList').innerHTML = htmlToList;\r\n    }\r\n\r\n    destructor(){\r\n        this.fireEventAndCallback('inputWithSearchWindow_destruction');\r\n        this.removeListeners();\r\n        this.removeMutationObserver();\r\n        this._setHoveredKey('clear');\r\n        this.destructorDOM();\r\n    }\r\n\r\n    fireEventAndCallback(name, data = {}){\r\n\r\n        if (name in InputWithSearchWindow.listCallbacksAndEvents){\r\n            let caller = this.elements.wrapper;\r\n            let dataToOutput = {\r\n                inputWithSearchWindow: {\r\n                    object: this,\r\n                    data\r\n                }\r\n            };\r\n            funcs.callEvent(caller, name, {\r\n                inputWithSearchWindow: this\r\n            });\r\n            let func = this.settings.callbacks[name];\r\n            if (typeof func === 'function'){\r\n                func(...Object.values(dataToOutput.inputWithSearchWindow));\r\n            }\r\n        }\r\n    }\r\n\r\n    destructorDOM(){\r\n        let element = this.getElementByKey('wrapper');\r\n        element.parentNode.removeChild(element);\r\n    }\r\n\r\n    addListeners(){\r\n\r\n        const setTimeoutOnBlockSelected = (timer, winSh, time = 200) => {\r\n            clearTimeout(timer);\r\n            winSh.setBlockHoverSelected(true);\r\n            return setTimeout(() => {\r\n                winSh.setBlockHoverSelected(false);\r\n            }, time);\r\n        };\r\n\r\n        this.timerWaitToBlockHoverSelected = false;\r\n\r\n        this.listeners = new EventSave();\r\n        let wrapper = this.elements.wrapper;\r\n        const elemListClass = InputWithSearchWindow.getClassesBaseByKey('elementList')[0];\r\n\r\n        let baseEventsActive = this.settings.baseEventsActive;\r\n        const eventsArr = [\r\n            {\r\n                name: 'clickElement',\r\n                domElement: wrapper,\r\n                events: 'click',\r\n                fn: (event) => funcs.delegateFn(event, elemListClass, (e, elem) => {\r\n                    this.setElemListActiveByKey( InputWithSearchWindow._getKeyAttrFromDomElement(elem) );\r\n                    this.fireEventAndCallback('inputWithSearchWindow_clickOnElementList', elem);\r\n                }),\r\n                protectedStatus: true\r\n            },\r\n            {\r\n                name: 'clickOuter',\r\n                domElement: document,\r\n                events: 'click',\r\n                fn: (event) => {\r\n                    if (event.target.closest(`.${this.getClassesByKey('wrapper')}, .InputWithSearch`)){\r\n                        return;\r\n                    }\r\n                    this.destructor();\r\n                },\r\n                protectedStatus: true\r\n            },\r\n            {\r\n                name: 'mouseEnterElement',\r\n                domElement: wrapper,\r\n                events: 'mouseover',\r\n                fn: (e) => funcs.delegateFn(e, elemListClass, (e, elem) => {\r\n                    if (!this.checkBlockHoverSelected()){\r\n                        this._setElemListHover(elem);\r\n                    }\r\n                }),\r\n                protectedStatus: true\r\n            },\r\n            {\r\n                name: 'interceptionEvents',\r\n                domElement: document,\r\n                events: 'keydown',\r\n                fn: (event) => {\r\n\r\n                    let windowSh = this;\r\n                    let relativeClass = this.getRelativeObject();\r\n\r\n\r\n                    if (relativeClass.checkStatus(1)){\r\n\r\n                        const down = event.keyCode === 40;\r\n                        const up = event.keyCode === 38;\r\n                        const enter = event.keyCode === 13;\r\n\r\n                        if ((up || down) && windowSh.checkStatus()){\r\n                            event.preventDefault();\r\n                            this.timerWaitToBlockHoverSelected = setTimeoutOnBlockSelected(\r\n                                this.timerWaitToBlockHoverSelected,\r\n                                windowSh\r\n                            );\r\n                            if ( down ){\r\n                                windowSh.setElemListHoverByDirection();\r\n                            }\r\n                            if ( up ){\r\n                                windowSh.setElemListHoverByDirection(false);\r\n                            }\r\n                        }\r\n\r\n                        if (enter){\r\n\r\n                            const hoveredKey = windowSh._getHoveredKey();\r\n\r\n                            if (hoveredKey !== 'null'){\r\n                                this.setElemListActiveByKey( hoveredKey );\r\n                                relativeClass._setActiveByKeyFromList( hoveredKey );\r\n                            }\r\n\r\n                            relativeClass.close();\r\n                        }\r\n                    }\r\n                },\r\n                protectedStatus: true\r\n            },\r\n            {\r\n                name: 'watcherPosition',\r\n                domElement: wrapper,\r\n                events: 'inputWithSearchWindow_afterConstruction',\r\n                fn: () => {\r\n                    this._addWatcherPosition();\r\n                },\r\n                protectedStatus: true\r\n            },\r\n            {\r\n                name: 'removeWatcherPosition',\r\n                domElement: wrapper,\r\n                events: 'inputWithSearchWindow_destruction',\r\n                fn: () => {\r\n                    this._removeWatcherPosition();\r\n                },\r\n                protectedStatus: true\r\n            }\r\n        ];\r\n\r\n        if (this.settings.closeBtn){\r\n            eventsArr.push({\r\n                name: 'closeBtnEvent',\r\n                domElement: this.getElementByKey('wrapperCloseBtn'),\r\n                events: 'click',\r\n                fn: () => {\r\n                    this.destructor();\r\n                },\r\n                protectedStatus: true\r\n            });\r\n        }\r\n\r\n        eventsArr.forEach((info) => {\r\n            let arrInfo = Object.values(info);\r\n            let name = arrInfo[0];\r\n            if (!(name in InputWithSearchWindow.baseEventsActive) || baseEventsActive[name] === true){\r\n                this.listeners.addRecord(...arrInfo);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @return {InputWithSearch}\r\n     */\r\n    getRelativeObject(){\r\n        return window.inputWithSearch.getElement(this.dependElement);\r\n    }\r\n\r\n    setElemListHoverByKey(key, withScroll = true){\r\n        if (this.checkStatus() && this._getList().checkKeyInActionData(key)){\r\n            const classes = this.getClassesByKey('elementList')[0];\r\n            let domElement = this.elements.wrapper.querySelector(`.${classes}[data-key=\"${key}\"]`);\r\n            if (domElement !== null){\r\n                this._setElemListHover(domElement, withScroll, key);\r\n            }\r\n        }\r\n    }\r\n\r\n    setElemListHoverByDirection(down = true){\r\n\r\n        let arrKeys = Object.keys(this.getDataForList(true));\r\n        let hoveredKey = this._getHoveredKey();\r\n        let index = arrKeys.indexOf(hoveredKey);\r\n\r\n        if (down){\r\n            if (hoveredKey === -1){\r\n                this.setElemListHoverByKey(arrKeys[0]);\r\n                return;\r\n            }\r\n            if (arrKeys[arrKeys.length - 1] === hoveredKey){\r\n                this.setElemListHoverByKey(hoveredKey);\r\n                return;\r\n            }\r\n            this.setElemListHoverByKey(arrKeys[index+1]);\r\n            return;\r\n        }\r\n        if (index === 0){\r\n            this._unHoveredElements();\r\n            this._setHoveredKey('clear');\r\n            return;\r\n        }\r\n        this.setElemListHoverByKey(arrKeys[index-1]);\r\n    }\r\n\r\n    _unHoveredElements(){\r\n        const classes = InputWithSearchWindow.getClassesBaseByKey('elementListHovered')[0];\r\n        this.elements.wrapper.querySelectorAll(`.${classes}`).forEach((element) => {\r\n            element.classList.remove(classes);\r\n        });\r\n    }\r\n\r\n    _setElemListHover(domListElement, withScroll = false, keyElement = false){\r\n\r\n        const key = typeof keyElement === 'string' ? keyElement : domListElement.getAttribute('data-key');\r\n        const classes = InputWithSearchWindow.getClassesBaseByKey('elementListHovered')[0];\r\n\r\n        if (key !== this._getHoveredKey()){\r\n\r\n            this._unHoveredElements();\r\n            this._setHoveredKey(key);\r\n\r\n            if (withScroll){\r\n                this.elements.wrapperInner.scrollTop = domListElement.offsetTop;\r\n            }\r\n        }\r\n\r\n        domListElement.classList.add(classes);\r\n    }\r\n\r\n    setElemListActiveByKey(key, updateOnlyDom = false, withScroll = true){\r\n\r\n        if (key !== 'null' && (key !== this._getActiveKey() || updateOnlyDom)){\r\n\r\n            const classes = InputWithSearchWindow.getClassesBaseByKey('elementListSelected')[0];\r\n\r\n            this._unActiveElements();\r\n            if (!updateOnlyDom){\r\n                this._setActiveKey(key);\r\n            }\r\n\r\n            let domElement = this._getDomElementByKey(key);\r\n\r\n            if (withScroll){\r\n                this.elements.wrapperInner.scrollTop = domElement.offsetTop;\r\n            }\r\n\r\n            domElement.classList.add(classes);\r\n        }\r\n    }\r\n\r\n    static _getKeyAttrFromDomElement(domElement){\r\n        return domElement.getAttribute('data-key');\r\n    }\r\n\r\n    _getDomElementByKey(key){\r\n        return this.elements.wrapper.querySelector(`[data-key=\"${key}\"]`);\r\n    }\r\n\r\n    _unActiveElements(){\r\n        const classes = InputWithSearchWindow.getClassesBaseByKey('elementListSelected')[0];\r\n        this.elements.wrapper.querySelectorAll(`.${classes}`).forEach((element) => {\r\n            element.classList.remove(classes);\r\n        });\r\n    }\r\n\r\n    setBlockHoverSelected(set = false){\r\n        this.blockHoverSelected = set;\r\n    }\r\n\r\n    checkBlockHoverSelected(){\r\n        return this.blockHoverSelected;\r\n    }\r\n\r\n    removeListeners(){\r\n        this.listeners.removeAllRecords();\r\n    }\r\n\r\n    updateSettings(newSettings){\r\n\r\n        let classes = false;\r\n\r\n        if ('classes' in newSettings){\r\n            classes = funcs.mergeListArraysWithoutDuplicates(this.settings.classes, newSettings['classes']);\r\n        }\r\n\r\n        this.settings = funcs.extend(true, {}, this.settings, newSettings);\r\n\r\n        if (classes){\r\n            this.settings.classes = classes;\r\n        }\r\n    }\r\n\r\n    getClassesByKey(key, join = false){\r\n        let classes = this.settings.classes[key];\r\n        return join ? classes.join(' ') : classes;\r\n    }\r\n\r\n    reSetPosition(){\r\n\r\n        let elem = this.getRelativeObject().getWorkDomElement();\r\n\r\n        if (isHidden(elem)) {\r\n            this.destructor();\r\n            return;\r\n        }\r\n\r\n        let cssParams = this.settings.cssParams;\r\n        let customFunctionForResizing = this.settings.cssCallbacks;\r\n        let {window: customFnResize, triangle: customFnRePositionTriangle} = customFunctionForResizing;\r\n\r\n        if (checkOnFunction(customFnResize)) {\r\n            customFnResize(elem, cssParams);\r\n        } else {\r\n            let elem_character = elem.getBoundingClientRect();\r\n            let scroll = window.pageYOffset || document.documentElement.scrollTop;\r\n            let style = this.elements.wrapper.style;\r\n            let width = elem_character.width;\r\n            let winWidth = window.innerWidth;\r\n            let [mTop, mRight, mBot, mLeft] = cssParams.margin;\r\n            let availablePlaceWidth = winWidth - mLeft - mRight;\r\n            let seekWidthTo = this.settings.cssParams.seekWidthTo;\r\n\r\n            if (seekWidthTo !== 'none') {\r\n                switch (seekWidthTo) {\r\n                    case 'max':\r\n                        width = cssParams.maxWidth;\r\n                        break;\r\n                    case 'min':\r\n                        width = cssParams.minWidth;\r\n                        break;\r\n                }\r\n            }\r\n\r\n            if (availablePlaceWidth < width) {\r\n                width = availablePlaceWidth;\r\n            }\r\n\r\n            if (width < cssParams.minWidth){\r\n                width = cssParams.minWidth;\r\n            }\r\n            if (width > cssParams.maxWidth){\r\n                width = cssParams.maxWidth;\r\n            }\r\n\r\n            let left = elem_character.left + (elem_character.width - width)/2;\r\n\r\n            if (left < mLeft){\r\n                left = mLeft;\r\n            }\r\n            if (winWidth - (left + width) < mRight){\r\n                left = winWidth - width - mRight;\r\n            }\r\n\r\n            style.top = scroll + elem_character.bottom - (scroll + document.body.getBoundingClientRect().top) + 'px';\r\n            style.left = Math.ceil(left) + 'px';\r\n            style.width = width + 'px';\r\n            style.position = 'absolute';\r\n            if (mTop > 0){\r\n                style.marginTop = mTop + 'px';\r\n            }\r\n            if (mBot > 0){\r\n                style.marginBottom = mBot + 'px';\r\n            }\r\n        }\r\n\r\n        let triangle = this.getElementByKey('wrapperTriangle');\r\n\r\n        if (triangle !== null) {\r\n\r\n            let elem_character = elem.getBoundingClientRect();\r\n            let window_character = this.elements.wrapper.getBoundingClientRect();\r\n\r\n            if (checkOnFunction(customFnRePositionTriangle)) {\r\n                customFnRePositionTriangle(triangle, elem, cssParams);\r\n            } else {\r\n                let leftTriangle = (elem_character.left - window_character.left) + elem_character.width/2\r\n                    - triangle.offsetWidth/2;\r\n                triangle.style.left = Math.ceil(leftTriangle) + 'px';\r\n            }\r\n        }\r\n    }\r\n\r\n    static get classesBase(){\r\n        return {\r\n            wrapper: ['InputWithSearchWindow'],\r\n            wrapperSub: ['InputWithSearchWindow-Sub'],\r\n            wrapperInner: ['InputWithSearchWindow-Inner'],\r\n            wrapperList: ['InputWithSearchWindow-List'],\r\n            wrapperTriangle: ['InputWithSearchWindow-Triangle'],\r\n            wrapperCloseBtn: ['InputWithSearchWindow-CloseBtn'],\r\n            elementList: ['InputWithSearchWindow-Element'],\r\n            elementListSelected: ['InputWithSearchWindow-Element_selected'],\r\n            elementListHovered: ['InputWithSearchWindow-Element_hovered'],\r\n            message: ['InputWithSearchWindow-Message'],\r\n            error: ['InputWithSearchWindow-Error']\r\n        };\r\n    }\r\n\r\n    static getClassesBaseByKey(key){\r\n        return this.classesBase[key];\r\n    }\r\n\r\n    static get listCallbacksAndEvents(){\r\n        return {\r\n            'inputWithSearchWindow_clickOnElementList': false,\r\n            'inputWithSearchWindow_destruction': false,\r\n            'inputWithSearchWindow_changeContent': false,\r\n            'inputWithSearchWindow_afterConstruction': false\r\n        };\r\n    }\r\n\r\n    static get defaultSettings(){\r\n        return {\r\n            classes: this.classesBase,\r\n            constructors: {\r\n                element: (data, value, fn) => fn(` ${data} c  ${value}`),\r\n                error: errorText => errorText,\r\n                lessSymbols: (value, needSymbolsLength) => ` ${needSymbolsLength}   .`,\r\n                notFind: (value) => `  ${value}    !.`\r\n            },\r\n            callbacks: this.listCallbacksAndEvents,\r\n            cssParams: this.defaultCssParams,\r\n            triangle: false,\r\n            closeBtn: false,\r\n            baseEventsActive: this.baseEventsActive\r\n        };\r\n    }\r\n\r\n    static get baseEventsActive(){\r\n        return {\r\n            mouseEnterElement: true,\r\n            interceptionEvents: true,\r\n            clickElement: true\r\n        };\r\n    }\r\n\r\n    static get defaultCssParams(){\r\n        return {\r\n            margin: [0, 10, 0, 10],\r\n            minWidth: 200,\r\n            maxWidth: 300,\r\n            seekWidthTo: 'none'\r\n        };\r\n    }\r\n\r\n    static get cssCallbacks() {\r\n        return {\r\n            window: 'standart',\r\n            triangle: 'standart'\r\n        };\r\n    }\r\n\r\n    setStatus(withData = false){\r\n        this.haveData = withData;\r\n    }\r\n\r\n    checkStatus(){\r\n        return this.haveData;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {ContainerData}\r\n     * @private\r\n     */\r\n    _getList(){\r\n        return this.getRelativeObject().savesData;\r\n    }\r\n\r\n    getDataForList(keys = false){\r\n        return this._getList().getData(false, keys === true ? 'keyId' : null);\r\n    }\r\n\r\n    _setHoveredKey(key){\r\n        this._getList().hoveredKey = key;\r\n    }\r\n\r\n    _getHoveredKey(){\r\n        return this._getList().hoveredKey;\r\n    }\r\n\r\n    _setActiveKey(key){\r\n        this._getList().activeKey = key;\r\n    }\r\n\r\n    _getActiveKey(){\r\n        return this._getList().activeKey;\r\n    }\r\n\r\n    addListElements(dataList, value, reposition = true){\r\n\r\n        this.addInfoToList('');\r\n        this.setStatus(true);\r\n\r\n        dataList\r\n            .forEach((dataElement, numb) => {\r\n                this.addInfoToList(\r\n                    InputWithSearchWindow.constructElement(\r\n                        dataElement,\r\n                        value,\r\n                        numb,\r\n                        this.settings.constructors['element'],\r\n                        this.getClassesByKey('elementList', true)\r\n                    ),\r\n                    true\r\n                );\r\n            });\r\n\r\n        const activeKey = this._getActiveKey();\r\n        const checkActiveKey = activeKey !== 'null';\r\n\r\n        if (reposition){\r\n            this.setElemListActiveByKey(activeKey, true, false);\r\n        } else {\r\n            if (checkActiveKey){\r\n                this.setElemListActiveByKey(activeKey, true, true);\r\n                this.setElemListHoverByKey(activeKey, true);\r\n            } else {\r\n                const hoveredKey = this._getHoveredKey();\r\n                if (hoveredKey !== 'null'){\r\n                    this.setElemListHoverByKey(hoveredKey, reposition);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setToMessage(typeMessage, params){\r\n        this.setStatus();\r\n        this.addInfoToList(\r\n            InputWithSearchWindow.constructMessage(\r\n                typeMessage,\r\n                params,\r\n                this.settings.constructors[typeMessage],\r\n                this.getClassesByKey('message')\r\n            )\r\n        );\r\n    }\r\n\r\n    setToError(...args){\r\n        this.setStatus();\r\n        this.addInfoToList(\r\n            InputWithSearchWindow.constructMessageError(\r\n                ...args,\r\n                this.getClassesByKey('error'),\r\n                this.settings.constructors['error']\r\n            )\r\n        );\r\n    }\r\n\r\n    setToWait(){\r\n        this.setStatus();\r\n        this.addInfoToList(\r\n            InputWithSearchWindow.constructWaitThrobber()\r\n        );\r\n    }\r\n\r\n    _addWatcherPosition(){\r\n        let element = this.getRelativeObject().getWorkDomElement();\r\n        this._watcher = new WatcherPosition(\r\n            element,\r\n            () => {\r\n                this.reSetPosition();\r\n            }\r\n        );\r\n    }\r\n\r\n    _removeWatcherPosition(){\r\n        this._watcher.destructor();\r\n    }\r\n\r\n    static constructElement(data, value, numb, fn, classes){\r\n        return `\r\n                <div class=\"${classes}\" data-key=\"${data.key}\" data-numb=\"${numb}\">\r\n                    ${fn(data.data, value, funcs.highlightMatchesToString)}\r\n                </div>\r\n            `;\r\n    }\r\n\r\n    static constructMessage(typeMessage, params, fn, classes){\r\n        return `\r\n                <div class=\"${classes}\">\r\n                    ${fn(...params)}\r\n                </div>\r\n            `;\r\n    }\r\n\r\n    static constructMessageError(textError, errorCode, classes, fn){\r\n        return `\r\n                <div class=\"${classes}\">\r\n                    ${fn(textError, errorCode)}\r\n                </div>\r\n            `;\r\n    }\r\n\r\n    static constructWaitThrobber(){\r\n        return `\r\n            <div class=\"InputWithSearchWindow-Load\">\r\n                <div class=\"InputWithSearchLoader\">\r\n                    <div class=\"InputWithSearchLoader-Loader\"></div>\r\n                </div>\r\n            </div>\r\n            `;\r\n    }\r\n}\r\n\r\nconst isHidden = el => el.offsetParent === null;\r\n\r\nconst checkOnFunction = el => typeof el === 'function';\r\n\r\nexport default InputWithSearchWindow;","class ListInputWithSearch{\r\n\r\n    constructor(){\r\n        this.saves = new window.WeakMap();\r\n    }\r\n\r\n    addElement(domElement, objectInfo){\r\n        this.saves.set(domElement, objectInfo);\r\n    }\r\n\r\n    hasElement(domElement){\r\n        return this.saves.has(domElement);\r\n    }\r\n\r\n    removeElement(domElement){\r\n        this.saves.delete(domElement);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param domElement\r\n     * @returns {InputWithSearch}\r\n     */\r\n    getElement(domElement){\r\n        return this.saves.get(domElement);\r\n    }\r\n}\r\n\r\nexport default ListInputWithSearch;","class WatcherPosition{\r\n    constructor(domWatch, cb, timeTik = 50){\r\n        this.domWatch = domWatch;\r\n        this.cb = cb;\r\n        this.timeTik = timeTik;\r\n        this._savePositionFromElement();\r\n        this._addInterval();\r\n    }\r\n\r\n    _savePositionFromElement(positionObject = false){\r\n        this._positionBefore = saveParams(\r\n            ...(positionObject === false ? getParamsFromDomElement(this.domWatch) : positionObject)\r\n        );\r\n    }\r\n\r\n    _getPositionBefore(){\r\n        return this._positionBefore;\r\n    }\r\n\r\n    _addInterval(){\r\n        this._interval = setInterval(() => {\r\n            this._fireFunctionOnTik();\r\n        }, this.timeTik);\r\n    }\r\n\r\n    _fireFunctionOnTik() {\r\n        let newPosition = getParamsFromDomElement(this.domWatch);\r\n        if (differentTwoObjectPosition(this._getPositionBefore(), newPosition)){\r\n            this._savePositionFromElement(newPosition);\r\n            this.cb();\r\n        }\r\n    }\r\n\r\n    destructor(){\r\n        clearInterval(this._interval);\r\n    }\r\n}\r\n\r\nconst getScrolls = () => {\r\n    let doc = document.documentElement;\r\n    let left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\r\n    let top = (window.pageYOffset || doc.scrollTop)  - (doc.clientTop || 0);\r\n\r\n    return {\r\n        left,\r\n        top\r\n    };\r\n};\r\n\r\nconst getParamsFromDomElement = domElement => {\r\n    let position = domElement.getBoundingClientRect();\r\n    let scrolls = getScrolls();\r\n    return saveParams(\r\n        position.width,\r\n        position.height,\r\n        position.left + scrolls.left,\r\n        position.top + scrolls.top\r\n    );\r\n};\r\n\r\nconst saveParams = (width, height, left, top) => ({\r\n    width,\r\n    height,\r\n    left,\r\n    top,\r\n    [Symbol.iterator]: function* (){\r\n        yield this.width;\r\n        yield this.height;\r\n        yield this.left;\r\n        yield this.top;\r\n    }\r\n});\r\n\r\nconst differentTwoObjectPosition = (obj1, obj2) => !(JSON.stringify(obj1) === JSON.stringify(obj2));\r\n\r\nexport default WatcherPosition;","const readOnly = (target, key, descriptor) => {\r\n    descriptor.writable = false;\r\n    return descriptor;\r\n};\r\n\r\nexport {readOnly};","const delegateFn = (event, findClass, fn) => {\r\n    let target = event.target,\r\n        related = event.relatedTarget,\r\n        match;\r\n\r\n    // search for a parent node matching the delegation selector\r\n    while ( target && target !== document && !( match = target.classList.contains(findClass) ) ) {\r\n        target = target.parentNode;\r\n    }\r\n\r\n    // exit if no matching node has been found\r\n    if ( !match ) { return; }\r\n\r\n    // loop through the parent of the related target to make sure that it's not a child of the target\r\n    while ( related && related !== target && related !== document ) {\r\n        related = related.parentNode;\r\n    }\r\n\r\n    // exit if this is the case\r\n    if ( related === target ) { return; }\r\n\r\n    return fn(event, target);\r\n};\r\n\r\nfunction extend() {\r\n\r\n    // Variables\r\n    let extended = {};\r\n    let deep = false;\r\n    let i = 0;\r\n    let length = arguments.length;\r\n\r\n    // Check if a deep merge\r\n    if ( Object.prototype.toString.call( arguments[0] ) === '[object Boolean]' ) {\r\n        deep = arguments[0];\r\n        i++;\r\n    }\r\n\r\n    let merge = function (obj) {\r\n        for ( let prop in obj ) {\r\n            if ( Object.prototype.hasOwnProperty.call( obj, prop ) ) {\r\n                if ( deep && Object.prototype.toString.call(obj[prop]) === '[object Object]' ) {\r\n                    extended[prop] = extend( true, extended[prop], obj[prop] );\r\n                } else {\r\n                    extended[prop] = obj[prop];\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    for ( ; i < length; i++ ) {\r\n        let obj = arguments[i];\r\n        merge(obj);\r\n    }\r\n\r\n    return extended;\r\n\r\n}\r\n\r\nfunction highlightMatchesToString(string, query){\r\n    const reg = new RegExp('('+query+')', 'gi');\r\n    return string.replace(reg, '<span class=\"InputWithSearchWindow-Coincidence\">$1</span>');\r\n}\r\n\r\nfunction hasClass(element, cls) {\r\n    return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;\r\n}\r\n\r\nconst callEvent = (element, name, data) => {\r\n\r\n    let eventConfig = {\r\n        bubbles: true\r\n    };\r\n\r\n    if (typeof data !== 'undefined'){\r\n        eventConfig.detail = data;\r\n    }\r\n\r\n    element.dispatchEvent(new CustomEvent(name, eventConfig));\r\n};\r\n\r\nconst mergeListArraysWithoutDuplicates = (oldArr, newArr) => {\r\n\r\n    return Object.entries(oldArr).reduce((acc, info) => {\r\n        let [nameElement, classesElement] = info;\r\n        if (nameElement in newArr && Array.isArray(newArr[nameElement])){\r\n            acc[nameElement] = Array.from(new Set(classesElement.concat(newArr[nameElement])));\r\n        } else {\r\n            acc[nameElement] = classesElement;\r\n        }\r\n        return acc;\r\n    }, {});\r\n};\r\n\r\nconst insertAfter = (newNode, referenceNode) => {\r\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n};\r\n\r\n/**\r\n *\r\n * @param {...Object} args\r\n * @return {string|{}}\r\n */\r\nconst classesArraysSlice = (...args) => {\r\n\r\n    let dataArgs = args.map(element => {\r\n        let newObject = {};\r\n        if (typeof element !== 'object') {\r\n            return newObject;\r\n        }\r\n        for (let [key, value] of Object.entries(element)){\r\n            if (Array.isArray(value)){\r\n                newObject[key] = value.slice(0);\r\n            }\r\n        }\r\n        return newObject;\r\n    });\r\n\r\n    let [firstArg, secondArg] = dataArgs;\r\n\r\n    let keysTheme = Object.keys(firstArg),\r\n        keysObject = Object.keys(secondArg),\r\n        summKeys =  [...new Set([...keysTheme,...keysObject])];\r\n\r\n    return summKeys.reduce((acc, key) => {\r\n        let inTheme = key in firstArg,\r\n            inObject = key in secondArg;\r\n        if (inTheme && inObject) {\r\n            acc[key] = [...new Set([...firstArg[key], ...secondArg[key]])];\r\n            return acc;\r\n        }\r\n        acc[key] = inTheme ? firstArg[key] : secondArg[key];\r\n        return acc;\r\n    }, {});\r\n};\r\n\r\n/**\r\n *\r\n * @param {...Object} args\r\n * @return {Object}\r\n */\r\nconst sliceObjectArrays = (...args) => {\r\n    if (args.length === 0){\r\n        return {};\r\n    }\r\n    if (args.length === 1){\r\n        return extend(true, {}, args[0]);\r\n    }\r\n    return args.reduce((acc, arg) => classesArraysSlice(acc, arg), {});\r\n};\r\n\r\nconst funcs = {\r\n    delegateFn,\r\n    extend,\r\n    callEvent,\r\n    hasClass,\r\n    highlightMatchesToString,\r\n    mergeListArraysWithoutDuplicates,\r\n    insertAfter,\r\n    sliceObjectArrays\r\n};\r\n\r\nexport default funcs;","const InputWithSearchForWindowWeakMap = new WeakMap();\r\n\r\n/**\r\n * @typedef {object} protectedFieldsIWS\r\n * @property {ListInputWithSearch} list\r\n * @property {Map} themes\r\n */\r\n\r\n/**\r\n *\r\n * @param object\r\n * @param {protectedFieldsIWS} data\r\n */\r\nconst setDataWeakMapIWS = (object, data) => {\r\n    InputWithSearchForWindowWeakMap.set(object, data);\r\n};\r\n\r\n/**\r\n *\r\n * @param object\r\n * @return {...protectedFieldsIWS} data\r\n */\r\nconst getDataWeakMapIWS = (object) => {\r\n    return InputWithSearchForWindowWeakMap.get(object);\r\n};\r\n\r\nconst weakMapIWS = {\r\n    setDataWeakMapIWS,\r\n    getDataWeakMapIWS\r\n};\r\n\r\nexport default weakMapIWS;","import '../scss/inputWithSearch.scss';\r\nimport './polyfills/polyfills';\r\nimport InputWithSearchForWindow from './classes/InputWithSearchForWindow';\r\nimport runDefaultThemes from './themes/themes';\r\n\r\n/**\r\n * Global object\r\n * @type {InputWithSearchForWindow}\r\n */\r\nwindow.inputWithSearch = new InputWithSearchForWindow();\r\nrunDefaultThemes();","(function() {\r\n    if (!Element.prototype.closest) {\r\n        Element.prototype.closest = function(css) {\r\n            let node = this;\r\n            while (node) {\r\n                if (node.matches(css)) return node;\r\n                else node = node.parentElement;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n})();","/**\r\n *\r\n * @param {string} name\r\n * @param {object} object\r\n * @param {function(InputWithSearch)|boolean} cb\r\n * @param {function(HTMLElement)|boolean} cbBefore\r\n * @return {{name: *, object: *, cb: *, cbBefore: *, [Symbol.iterator]: Function}}\r\n */\r\nexport default function(name, object, cb, cbBefore){\r\n    return {\r\n        name,\r\n        object,\r\n        cb,\r\n        cbBefore,\r\n        [Symbol.iterator]: function* (){\r\n            yield name;\r\n            yield object;\r\n            yield cb;\r\n            yield cbBefore;\r\n        }\r\n    };\r\n}","import defaultExportTheme from '../defaultExportTheme';\r\n\r\nexport default defaultExportTheme(\r\n    'openInfo',\r\n    {\r\n        baseWindowEventsActive: {\r\n            interceptionEvents: false,\r\n            mouseEnterElement: false,\r\n            clickElement: false\r\n        },\r\n        constructors: {\r\n            element: data => data\r\n        },\r\n        maxViewElements: 1,\r\n        classes: {\r\n            wrapper: ['InputWithSearchWindow_theme_openInfo']\r\n        },\r\n        cssParamsWindow: {\r\n            minWidth: 200,\r\n            maxWidth: 286,\r\n            seekWidthTo: 'max'\r\n        }\r\n    },\r\n    (object) => {\r\n        let rootElement = object.getWorkDomElement();\r\n        let innHTML = rootElement.getAttribute('data-iws-data');\r\n        object.setCustomData([\r\n            innHTML\r\n        ]);\r\n    }\r\n);","import defaultExportTheme from '../defaultExportTheme';\r\nimport funcs from '../../functions/functions';\r\n\r\n/**\r\n * Get from event object element\r\n * @param e\r\n * @return {InputWithSearch}\r\n */\r\nconst getFromEventObject = e => e.detail.inputWithSearch.object;\r\n\r\n/**\r\n * construct domElement for delegate select\r\n * @param {string} text\r\n * @return {string}\r\n */\r\nconst constructorDelegateElement = (text) => `\r\n    ${text}\r\n`;\r\n\r\n/**\r\n * Add delegateElement\r\n * @param {HTMLElement} toAppend\r\n * @param {string} id\r\n * @param {array} classes\r\n */\r\nconst addDelegateElement = (toAppend, id, classes = ['InputWithSearchSelect']) => {\r\n    let delegateElement = document.createElement('div');\r\n    delegateElement.setAttribute('id', id);\r\n    delegateElement.classList.add(...classes);\r\n    delegateElement.innerHTML = constructorDelegateElement('delegateElement');\r\n    funcs.insertAfter(delegateElement, toAppend);\r\n};\r\n\r\n/**\r\n * Generate attribute id for select imitate\r\n * @param {string} objectId\r\n * @return {string}\r\n */\r\nconst constructIdSelect = objectId => objectId+'_select';\r\n\r\n/**\r\n * Callback for inputWithSearch_beforeInit event\r\n * @param e\r\n */\r\nconst cbBeforeStart = e => {\r\n    let object = getFromEventObject(e);\r\n    let domElement = object.getWorkDomElement(true);\r\n    domElement.style.display = 'none';\r\n    const id = constructIdSelect(object.id);\r\n    addDelegateElement(domElement, id);\r\n    object.updateSettings({\r\n        delegateElement: document.getElementById(id)\r\n    });\r\n};\r\n\r\n/**\r\n * Callback for inputWithSearch_beforeDestruction event\r\n * @param e\r\n */\r\nconst cbBeforeDestruct = (e) => {\r\n    /**\r\n     * @type {InputWithSearch}\r\n     */\r\n    let object = getFromEventObject(e);\r\n    let HTMLElem = object.getWorkDomElement(true);\r\n    HTMLElem.removeEventListener('inputWithSearch_beforeInit', cbBeforeStart);\r\n    HTMLElem.removeEventListener('inputWithSearch_beforeDestruction', cbBeforeDestruct);\r\n    HTMLElem.style.display = '';\r\n    let delegateElement = document.getElementById(constructIdSelect(object.id));\r\n    if (delegateElement !== null){\r\n        HTMLElem.parentElement.removeChild(delegateElement);\r\n    }\r\n};\r\n\r\nconst cbOnChangeData = (...args) => {\r\n    console.log(args);\r\n\r\n};\r\n\r\nexport default defaultExportTheme(\r\n    'select',\r\n    {\r\n        onEvents: 'click'\r\n    },\r\n    (object) => {\r\n        object.setCustomData([\r\n            'test',\r\n            'test2',\r\n            'test3'\r\n        ]);\r\n    },\r\n    (HTMLElem) => {\r\n        HTMLElem.addEventListener('inputWithSearch_beforeInit', cbBeforeStart);\r\n        HTMLElem.addEventListener('inputWithSearch_beforeDestruction', cbBeforeDestruct);\r\n        //HTMLElem.addEventListener('inputWithSearch_changeActive', cbOnChangeData);\r\n    }\r\n);","import defaultExportTheme from '../defaultExportTheme';\r\n\r\nexport default defaultExportTheme('withPerfectScrollbar', {}, (object) => {\r\n    if (window.PerfectScrollbar){\r\n        let listeners = object.getListeners();\r\n        listeners.addCustomRecord('test_afterOpen', 'inputWithSearch_afterOpen', () => {\r\n            let wrapperInner = object.inputWithSearchWindow.getElementByKey('wrapperInner');\r\n            const ps = new window.PerfectScrollbar(wrapperInner, {\r\n                wheelPropagation: false\r\n            });\r\n            object.getCustomContainer().set('customScroll', ps);\r\n        });\r\n        listeners.addCustomRecord('test_onChangeWindow', 'inputWithSearch_onChangeWindow', () => {\r\n            object.getCustomContainer().get('customScroll').update();\r\n        });\r\n        listeners.addCustomRecord('test_inputWithSearch_beforeClose', 'inputWithSearch_beforeClose', () => {\r\n            let container = object.getCustomContainer();\r\n            container.get('customScroll').destroy();\r\n            container.delete('customScroll');\r\n        });\r\n    }\r\n});","import withPerfectScrollbarTheme from './listThemes/withPerfectScrollbar';\r\nimport selectTheme from './listThemes/select';\r\nimport openInfo from './listThemes/openInfo';\r\n\r\nexport default function runDefaultThemes() {\r\n\r\n    let inputWithSearch = window.inputWithSearch;\r\n\r\n    inputWithSearch.addTheme(...withPerfectScrollbarTheme);\r\n    inputWithSearch.addTheme(...selectTheme);\r\n    inputWithSearch.addTheme(...openInfo);\r\n}","// extracted by mini-css-extract-plugin"],"sourceRoot":""}